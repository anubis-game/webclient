import { bench } from "vitest";
import { describe } from "vitest";
import { SchemaDecodeAddress } from "./SchemaDecodeAddress";
import { WithoutTable } from "./SchemaDecodeAddress";

describe("SchemaDecodeAddress", () => {
  const byt = new Uint8Array([
    0x12, 0x34, 0x56, 0x78, 0x9a, 0xbc, 0xde, 0xf0, 0x12, 0x34, 0x56, 0x78, 0x9a, 0xbc, 0xde, 0xf0, 0x12, 0x34, 0x56,
    0x78,

    0xab, 0xcd, 0xef, 0x01, 0x23, 0x45, 0x67, 0x89, 0xab, 0xcd, 0xef, 0x01, 0x23, 0x45, 0x67, 0x89, 0xab, 0xcd, 0xef,
    0x01,
  ]);

  // ~1,450,000 samples
  bench("SchemaDecodeAddress", () => {
    SchemaDecodeAddress(byt, 0);
    SchemaDecodeAddress(byt, 1);
  });

  // ~642,000 samples
  bench("withoutTable", () => {
    WithoutTable(byt, 0);
    WithoutTable(byt, 1);
  });
});
